<!-- Breadcrumb -->
<div class="breadcrumb">
  <span class="breadcrumb-item inactive">Setting</span>
  <svg class="breadcrumb-separator" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
    <path d="M6.5 3L11 8l-4.5 5" />
  </svg>
  <span class="breadcrumb-item active">User Account</span>
</div>

<!-- Search and Filter Section -->
<div class="search-filter-section">
  <div class="search-filters">
    <!-- Search Box -->
    <div class="search-box">
      <label class="search-label">Search</label>
      <div class="search-input">
        <svg class="search-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
          <path
            d="M8.11 1C12.59 1 16.22 4.63 16.22 9.11C16.22 10.81 15.63 12.37 14.65 13.62L17.76 16.73L16.35 18.14L13.24 15.03C11.99 16.01 10.43 16.6 8.73 16.6C4.25 16.6 0.62 12.97 0.62 8.49C0.62 4.01 4.25 0.38 8.73 0.38"
            stroke="currentColor" stroke-width="1.5" />
        </svg>
        <input type="text" placeholder="Search for users..." [(ngModel)]="searchTerm" (input)="onSearchChange()" />
      </div>
    </div>

    <!-- Company Filter -->
    <div class="filter-dropdown">
      <label class="search-label">Company</label>
      <select class="filter-select" [(ngModel)]="selectedCompany" (change)="onCompanyChange()">
        <option *ngFor="let company of companies" [value]="company.value">
          {{ company.label }}
        </option>
      </select>
    </div>
  </div>

  <!-- Create New User Button -->
  <button class="create-button" (click)="createNewUser()">
    <svg class="create-icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
      <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
    </svg>
    Create New User
  </button>
</div>

<!-- User Account Table -->
<div class="account-table-container">
  <table class="account-table">
    <thead class="table-header">
      <tr>
        <th>User</th>
        <th>Company</th>
        <th>Company Address</th>
        <th>Phone</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr class="table-row" *ngFor="let user of filteredUsers; trackBy: trackByUserId">
        <td class="table-cell">
          <div class="user-info-cell">
            <div class="user-avatar" [style.background-color]="getUserAvatarColor(user)">
              {{ getUserAvatar(user) }}
            </div>
            <div class="user-details">
              <div class="user-name">{{ getUserDisplayName(user) }}</div>
              <div class="user-email">{{ user.email }}</div>
            </div>
          </div>
        </td>
        <td class="table-cell">{{ user.company || 'N/A' }}</td>
        <td class="table-cell">{{ user.company_address || 'N/A' }}</td>
        <td class="table-cell">{{ user.phone || 'N/A' }}</td>
        <td class="table-cell">
          <div class="action-buttons">
            <button class="action-button edit-button" (click)="editUser(user.id)" *ngIf="canEditUser(user)">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
                <path d="M11.5 2.5a1.5 1.5 0 0 0-2.12 0L3 8.88V12h3.12l6.38-6.38a1.5 1.5 0 0 0 0-2.12l-1-1z" />
              </svg>
              Edit
            </button>
            <button class="action-button delete-button" (click)="deleteUser(user.id)" *ngIf="canDeleteUser(user)">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="currentColor">
                <path
                  d="M5.5 1a.5.5 0 0 0-.5.5v.5h4v-.5a.5.5 0 0 0-.5-.5h-3zM3 3v9a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3H3z" />
              </svg>
              Delete
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="filteredUsers.length === 0">
    <div class="empty-icon">
      <svg width="32" height="32" viewBox="0 0 32 32" fill="#ADB5BD">
        <path
          d="M16 3C8.8 3 3 8.8 3 16s5.8 13 13 13 13-5.8 13-13S23.2 3 16 3zm0 4c2.2 0 4 1.8 4 4s-1.8 4-4 4-4-1.8-4-4 1.8-4 4-4zm0 18c-3.1 0-5.9-1.6-7.5-4.1.9-2.5 3.3-4.3 6.1-4.3h2.8c2.8 0 5.2 1.8 6.1 4.3C21.9 23.4 19.1 25 16 25z" />
      </svg>
    </div>
    <h3 style="margin-bottom: 8px; color: #495057;">No users found</h3>
    <p style="color: #6C757D;">Try adjusting your search or filter criteria</p>
  </div>
</div>